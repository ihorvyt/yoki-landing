(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();class l{constructor(e={}){this.sections=document.querySelectorAll(".section"),this.phone=document.querySelector(".phone-container"),this.phoneOverflow=document.querySelector("#phoneOverflow"),this.secondaryPhone=document.querySelector(".secondary-phone"),this.animatedText=document.querySelector(".tell_text"),this.currentSectionIndex=0,this.isScrolling=!1,this.touchStartY=0,this.scrollSensitivity=e.scrollSensitivity||1.5,this.scrollDuration=e.scrollDuration||700,this.phoneStyles=e.phoneStyles||[],this.mobilePhoneStyles=e.mobilePhoneStyles||[],this.imageMappings=e.imageMappings||[],this.secondaryPhoneSection=e.secondaryPhoneSection||null,this.animatTextSection=e.animatTextSection||null,this.init()}init(){this.checkViewport(),this.addEventListeners(),this.applyStyles(),this.moveToSection(this.currentSectionIndex)}addEventListeners(){window.addEventListener("resize",this.debounce(this.checkViewport.bind(this),100)),window.addEventListener("wheel",this.debounce(this.handleScroll.bind(this),100),{passive:!1}),window.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!0}),window.addEventListener("touchmove",this.debounce(this.handleTouchMove.bind(this),100),{passive:!1}),window.addEventListener("touchend",this.handleTouchEnd.bind(this),{passive:!0}),window.addEventListener("hashchange",this.handleHashChange.bind(this),{passive:!0})}debounce(e,t){let n;return function(...i){const o=this;clearTimeout(n),n=setTimeout(()=>e.apply(o,i),t)}}smoothScroll(e){const t=window.pageYOffset,n=e-t;let i=null;const o=s=>s<.5?2*s*s:1-Math.pow(-2*s+2,2)/2,h=s=>{i===null&&(i=s);const c=s-i,a=o(c/this.scrollDuration)*n+t;window.scrollTo(0,a),c<this.scrollDuration&&requestAnimationFrame(h)};requestAnimationFrame(h)}moveToSection(e){if(this.isScrolling)return;this.isScrolling=!0;const t=this.sections[e].offsetTop;this.smoothScroll(t),this.updateVisuals(e),setTimeout(()=>{this.isScrolling=!1},this.scrollDuration)}updateVisuals(e){this.animatePhone(e),this.updatePhoneImage(e),this.updateSecondaryPhone(e),this.animateText(e)}animatePhone(e){const t=this.currentPhoneStyles[e]||{x:0,y:0,width:100,od:"dvw",br:0};this.phone.style.transform=`translate(${t.x}%, ${t.y}%)`,this.phone.style.width=`${t.width}${t.od}`,this.phoneOverflow.style.borderRadius=`${t.br}%`}updatePhoneImage(e){document.querySelectorAll(".phone .photo-screen").forEach((n,i)=>{this.imageMappings[e]===i?n.classList.add("active"):n.classList.remove("active")})}updateSecondaryPhone(e){this.secondaryPhoneSection!==null&&e===this.secondaryPhoneSection?this.secondaryPhone.classList.add("active"):this.secondaryPhone.classList.remove("active")}animateText(e){this.animatTextSection!==null&&e===this.animatTextSection?this.animatedText.classList.add("active"):this.animatedText.classList.remove("active")}handleScroll(e){if(e.preventDefault(),this.isScrolling)return;const t=e.deltaY>0?1:-1;(t>0&&this.currentSectionIndex<this.sections.length-1||t<0&&this.currentSectionIndex>0)&&(this.currentSectionIndex+=t,this.moveToSection(this.currentSectionIndex))}handleTouchStart(e){this.touchStartY=e.touches[0].clientY}handleTouchMove(e){e.preventDefault()}handleTouchEnd(e){const t=e.changedTouches[0].clientY,n=this.touchStartY-t>0?1:-1;this.isScrolling||(n>0&&this.currentSectionIndex<this.sections.length-1||n<0&&this.currentSectionIndex>0)&&(this.currentSectionIndex+=n,this.moveToSection(this.currentSectionIndex))}handleHashChange(){const e=window.location.hash.substring(1),t=document.getElementById(e);if(t){const n=Array.prototype.indexOf.call(this.sections,t);n!==-1&&(this.currentSectionIndex=n,this.moveToSection(n))}}checkViewport(){window.innerWidth<=768?this.currentPhoneStyles=this.mobilePhoneStyles:this.currentPhoneStyles=this.phoneStyles}applyStyles(){this.sections.forEach((e,t)=>{this.updateVisuals(t)})}destroy(){window.removeEventListener("resize",this.checkViewport),window.removeEventListener("wheel",this.handleScroll),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("hashchange",this.handleHashChange)}}window.addEventListener("load",()=>{u()});function u(){const r=document.querySelector(".phone-container"),e=window.innerHeight*(r.offsetWidth/r.offsetHeight)*.95,t=new l({scrollSensitivity:1.5,scrollDuration:700,phoneStyles:[{x:-42,y:4,width:41,od:"dvw"},{x:-30,y:2.5,width:e,od:"px",br:5},{x:-16,y:-12,width:55,od:"dvw"},{x:-30,y:2.5,width:e,od:"px",br:5},{x:-30,y:2.5,width:e,od:"px",br:5},{x:-16,y:2.5,width:55,od:"dvw",br:6.5},{x:-30,y:2.5,width:e,od:"px",br:5},{x:-30,y:2.5,width:e,od:"px"},{x:-16,y:-68,width:55,od:"dvw",br:6.5},{x:-30,y:2.5,width:e,od:"px"},{x:300,y:-2.5,width:e,od:"px"},{x:300,y:-2.5,width:e,od:"px"}],mobilePhoneStyles:[{x:-50,y:55,width:90,od:"dvw"},{x:-20,y:2.5,width:e,od:"px",br:5},{x:-50,y:45,width:90,od:"dvw"},{x:-75,y:40,width:e-e*.35,od:"px",br:5},{x:-50,y:30,width:e-e*.25,od:"px",br:5},{x:-50,y:42,width:90,od:"dvw",br:6.5},{x:-50,y:28,width:e-e*.25,od:"px",br:5},{x:-50,y:35,width:e-e*.25,od:"px"},{x:-50,y:-35,width:90,od:"dvw",br:6.5},{x:-20,y:2.5,width:e,od:"px"},{x:300,y:-2.5,width:90,od:"dvw"},{x:300,y:-2.5,width:90,od:"dvw"}],imageMappings:[0,1,1,1,2,3,4,5,5,6],animatTextSection:2,secondaryPhoneSection:3});window.scrollerInstance=t,window.addEventListener("unload",()=>t.destroy())}const d=document.querySelectorAll('a[href^="#"]');d.length>0&&d.forEach(r=>{r.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href").substring(1),n=document.getElementById(t);if(n){const i=n.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:i,behavior:"smooth"});const o=window.scrollerInstance;o&&(o.currentSectionIndex=11,o.updateVisuals(11))}})});
