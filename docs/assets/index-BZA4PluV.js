(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();class l{constructor(e={}){this.sections=document.querySelectorAll(".section"),this.phone=document.querySelector(".phone-container"),this.phoneOverflow=document.querySelector("#phoneOverflow"),this.secondaryPhone=document.querySelector(".secondary-phone"),this.currentSectionIndex=0,this.isScrolling=!1,this.touchStartY=0,this.scrollSensitivity=e.scrollSensitivity||1.5,this.scrollDuration=e.scrollDuration||700,this.phoneStyles=e.phoneStyles||[],this.imageMappings=e.imageMappings||[],this.secondaryPhoneSection=e.secondaryPhoneSection||null,this.init()}init(){this.addEventListeners(),this.resizeSections(),this.moveToSection(this.currentSectionIndex)}addEventListeners(){window.addEventListener("wheel",this.handleScroll.bind(this),{passive:!1}),window.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),window.addEventListener("touchend",this.handleTouchEnd.bind(this),{passive:!0}),window.addEventListener("resize",this.resizeSections.bind(this))}smoothScroll(e){const t=window.pageYOffset,n=e-t;let i=null;const o=s=>s<.5?2*s*s:1-Math.pow(-2*s+2,2)/2,r=s=>{i===null&&(i=s);const h=s-i,d=o(h/this.scrollDuration)*n+t;window.scrollTo(0,d),h<this.scrollDuration&&requestAnimationFrame(r)};requestAnimationFrame(r)}moveToSection(e){if(this.isScrolling)return;this.isScrolling=!0;const t=this.sections[e].offsetTop;this.smoothScroll(t),this.animatePhone(e),this.updatePhoneImage(e),this.updateSecondaryPhone(e),setTimeout(()=>{this.isScrolling=!1},this.scrollDuration)}animatePhone(e){const t=this.phoneStyles[e]||{x:0,y:0,width:100,od:"vw"};this.phone.style.transform=`translate(${t.x}%, ${t.y}%)`,this.phone.style.width=`${t.width}${t.od}`,this.phoneOverflow.style.borderRadius=`${t.br}vw`,console.log(`Phone animation to position X: ${t.x}%, Y: ${t.y}%, Width: ${t.width}${t.od}`)}updatePhoneImage(e){document.querySelectorAll(".phone .photo").forEach((n,i)=>{this.imageMappings[e]===i?n.classList.add("active"):n.classList.remove("active")})}updateSecondaryPhone(e){this.secondaryPhoneSection!==null&&e===this.secondaryPhoneSection?this.secondaryPhone.classList.add("active"):this.secondaryPhone.classList.remove("active")}handleScroll(e){if(e.preventDefault(),this.isScrolling)return;const t=e.deltaY>0?1:-1;(t>0&&this.currentSectionIndex<this.sections.length-1||t<0&&this.currentSectionIndex>0)&&(this.currentSectionIndex+=t,this.moveToSection(this.currentSectionIndex))}handleTouchStart(e){this.touchStartY=e.touches[0].clientY}handleTouchMove(e){e.preventDefault()}handleTouchEnd(e){const t=e.changedTouches[0].clientY,n=this.touchStartY-t>0?1:-1;this.isScrolling||(n>0&&this.currentSectionIndex<this.sections.length-1||n<0&&this.currentSectionIndex>0)&&(this.currentSectionIndex+=n,this.moveToSection(this.currentSectionIndex))}resizeSections(){const e=window.innerHeight;this.sections.forEach(t=>{t.style.height=`${e}px`})}getCurrentSectionIndex(){return this.currentSectionIndex}getCurrentSectionElement(){return this.sections[this.currentSectionIndex]}calculateWidthHeight(){return window.innerHeight*(this.phone.offsetWidth/this.phone.offsetHeight)}}document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector(".phone-container"),e=window.innerHeight*(c.offsetWidth/c.offsetHeight),t=e-e*.05,n=new l({scrollSensitivity:1.5,scrollDuration:700,phoneStyles:[{x:-50,y:4,width:41,od:"vw"},{x:-30,y:2.5,width:t,od:"px",br:5},{x:-16,y:-12,width:55,od:"vw"},{x:-30,y:2.5,width:t,od:"px",br:5},{x:-30,y:2.5,width:t,od:"px",br:5},{x:-16,y:2.5,width:55,od:"vw",br:6.5},{x:-30,y:2.5,width:t,od:"px",br:5},{x:-30,y:2.5,width:t,od:"px"},{x:-16,y:-68,width:55,od:"vw",br:6.5},{x:-30,y:2.5,width:t,od:"px"},{x:250,y:2.5,width:t,od:"px"},{x:250,y:2.5,width:t,od:"px"}],imageMappings:[0,1,1,1,2,3,4,5,5,6],secondaryPhoneSection:3});console.log("Current section index:",n.getCurrentSectionIndex()),console.log("Current section element:",n.getCurrentSectionElement())});
